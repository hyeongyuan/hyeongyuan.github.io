<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hyeongyuan.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="고급 타입9.1. 유니언 타입과 타입 가드 9.1.1. 유니언 타입유니언 타입으(union types)은 타입스크립트 1.4에 추가된 특징입니다. 유니언 타입은 2개 이상의 타입을 하나의 타입으로 정의한 타입입니다. 유니언 타입을 선언할 때는 파이프( | )를 타입명 사이에 넣습니다. 12[형식]타입 A | 타입B | 타입C  유니언 타입으로 선언된 변수는">
<meta property="og:type" content="article">
<meta property="og:title" content="타입스크립트 스터디 6주차">
<meta property="og:url" content="https://hyeongyuan.github.io/2020/05/20/typescript-advanced-type/index.html">
<meta property="og:site_name" content="DevieW">
<meta property="og:description" content="고급 타입9.1. 유니언 타입과 타입 가드 9.1.1. 유니언 타입유니언 타입으(union types)은 타입스크립트 1.4에 추가된 특징입니다. 유니언 타입은 2개 이상의 타입을 하나의 타입으로 정의한 타입입니다. 유니언 타입을 선언할 때는 파이프( | )를 타입명 사이에 넣습니다. 12[형식]타입 A | 타입B | 타입C  유니언 타입으로 선언된 변수는">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-05-20T11:30:00.000Z">
<meta property="article:modified_time" content="2020-05-20T10:34:40.297Z">
<meta property="article:author" content="Goofy">
<meta property="article:tag" content="typescript">
<meta property="article:tag" content="type">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://hyeongyuan.github.io/2020/05/20/typescript-advanced-type/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>타입스크립트 스터디 6주차 | DevieW</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">DevieW</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/hyeongyuan" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://hyeongyuan.github.io/2020/05/20/typescript-advanced-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Goofy">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevieW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          타입스크립트 스터디 6주차
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-05-20 20:30:00 / Modified: 19:34:40" itemprop="dateCreated datePublished" datetime="2020-05-20T20:30:00+09:00">2020-05-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/typescript/" itemprop="url" rel="index"><span itemprop="name">typescript</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/05/20/typescript-advanced-type/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/05/20/typescript-advanced-type/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="고급-타입"><a href="#고급-타입" class="headerlink" title="고급 타입"></a>고급 타입</h1><h2 id="9-1-유니언-타입과-타입-가드"><a href="#9-1-유니언-타입과-타입-가드" class="headerlink" title="9.1. 유니언 타입과 타입 가드"></a>9.1. 유니언 타입과 타입 가드</h2><hr>
<h3 id="9-1-1-유니언-타입"><a href="#9-1-1-유니언-타입" class="headerlink" title="9.1.1. 유니언 타입"></a>9.1.1. 유니언 타입</h3><p>유니언 타입으(union types)은 타입스크립트 1.4에 추가된 특징입니다. 유니언 타입은 2개 이상의 타입을 하나의 타입으로 정의한 타입입니다. 유니언 타입을 선언할 때는 파이프( | )를 타입명 사이에 넣습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[형식]</span><br><span class="line">타입 A | 타입B | 타입C</span><br></pre></td></tr></table></figure>

<p>유니언 타입으로 선언된 변수는 나열된 타입 중 하나의 타입에 속한 값만 할당됩니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">a = <span class="string">'happy'</span>;</span><br><span class="line">a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<p>유니언 타입을 구성하는 string과 number는 <strong>유니언 타입의 상위 타입</strong>이 됩니다.</p>
<p>유니언 타입은 함수의 매개변수를 타입별로 나눠 어떠한 처리를 해야 할 때 유용하게 사용할 수 있습니다. 또한 여러 반환 타입을 갖도록 명시할 수도 있습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">p: <span class="built_in">string</span> | <span class="built_in">number</span> | <span class="built_in">boolean</span></span>): <span class="title">string</span> | <span class="title">number</span> | <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> p === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> p === <span class="string">'number'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-1-2-타입-가드"><a href="#9-1-2-타입-가드" class="headerlink" title="9.1.2. 타입 가드"></a>9.1.2. 타입 가드</h3><p>유니언 타입은 여러 타입을 받을 수 있다는 장점이 있습니다. 그런데 유니언 타입은 여러 타입을 받음으로써 타입을 확신할 수 없다는 문제가 있습니다. 따라서 매개변수가 유니언 타입일 때 안전한 값을 할당하려면 타입 검사를 거쳐 매개변수 값을 받아야 합니다. 이처럼 유니언 타입에 대한 타입 검사를 통해 타입 안전성을 주는 방법을 <strong>타입 가드(type guards)</strong>라고 합니다.</p>
<p>타입 가드는 문법적인 특징이라기보다 유니언 타입에 속한 특정 타입인지 검사해 타입 안전성을 확보하는 방법입니다. 타입 가드는 유니언 타입으로 지정된 변수에 대해 <code>typeof</code>나 <code>instanceof</code> 연산자를 활용해 타입 질의를 한 후 명시된 타입과 일치하는지 검사합니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myIndexOf</span>(<span class="params">x: <span class="built_in">number</span> | <span class="built_in">string</span>, y: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x.indexOf(y);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(myIndexOf(<span class="string">'hello'</span>, <span class="string">'e'</span>));</span><br></pre></td></tr></table></figure>

<p>타입이 여럿일 때 특정 타입인지 확인해 타입 안전성을 확보하는 것을 타입 가드라고 합니다.</p>
<h3 id="instanceof를-이용한-타입-검사"><a href="#instanceof를-이용한-타입-검사" class="headerlink" title="instanceof를 이용한 타입 검사"></a>instanceof를 이용한 타입 검사</h3><p>클래스도 유니언 타입 형태로 지정할 수 있습니다. 이때도 마찬가지로 클래스에 대한 타입을 확신할 수 있으려면 <code>instanceof</code> 연산자를 통해 같은 클래스인지 확인해야 합니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Car &#123;</span><br><span class="line">  name = <span class="string">'cat'</span>;</span><br><span class="line">  age = <span class="number">13</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Dog &#123;</span><br><span class="line">  name = <span class="string">'dog'</span>;</span><br><span class="line">  leg = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffCheck</span>(<span class="params">x: Cat | Dog</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x <span class="keyword">instanceof</span> Dog) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x.name, x.leg);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(x.name);</span><br><span class="line">  <span class="comment">// console.log(x.leg);	&lt;- 오류</span></span><br><span class="line">  <span class="comment">// console.log(x.age);	&lt;- 오류</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">diffCheck(<span class="keyword">new</span> Dog());</span><br></pre></td></tr></table></figure>

<h2 id="9-2-알아두면-쓸모-있는-고급-타입들"><a href="#9-2-알아두면-쓸모-있는-고급-타입들" class="headerlink" title="9.2. 알아두면 쓸모 있는 고급 타입들"></a>9.2. 알아두면 쓸모 있는 고급 타입들</h2><hr>
<h3 id="9-2-1-문자열-리터럴-타입"><a href="#9-2-1-문자열-리터럴-타입" class="headerlink" title="9.2.1. 문자열 리터럴 타입"></a>9.2.1. 문자열 리터럴 타입</h3><p>문자열 리터럴 타입은 타입에 정의한 문자열만 할당받을 수 있게 하는 타입입니다. 문자열 리터럴 타입은 사용자 정의 타입이므로 사용자가 정의해 사용합니다.</p>
<p>문자열 리터럴 타입은 유니언 타입과 결합해 사용하면 허용할 문자열을 여러 개 지정할 수 있습니다. 예를 들어, 변수에 “keyup”이나 “mouseover”에 대한 값만 할당받고자 한다면 다음과 같은 형식으로 선언합니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> EventType = <span class="string">"keyup"</span> | <span class="string">"mouseover"</span>;</span><br></pre></td></tr></table></figure>

<p>그러고 나면 EventType을 번수를 선언할 때 타입으로 지정할 수 있습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> EventType = <span class="string">"keyup"</span> | <span class="string">"mouseover"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myEvent: EventType = <span class="string">"keyup"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> myEvent, myEvent);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">on</span>(<span class="params">event: EventType, callback: (message: <span class="built_in">string</span>) =&gt; <span class="built_in">any</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">typeof</span> event, event);</span><br><span class="line">  callback(<span class="string">"callback!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">on(myEvent, <span class="function">(<span class="params">message</span>) =&gt;</span> <span class="built_in">console</span>.log(message));</span><br><span class="line"></span><br><span class="line"><span class="comment">// [실행 결과]</span></span><br><span class="line"><span class="comment">// string keyup</span></span><br><span class="line"><span class="comment">// string keyup</span></span><br><span class="line"><span class="comment">// callback!</span></span><br></pre></td></tr></table></figure>

<p>on 함수의 첫 번째 인수는 EventType 타입이므로 “keyup” 또는 “mouseover” 문자열 중 하나만 받을 수 있습니다.</p>
<h3 id="9-2-2-룩업-타입"><a href="#9-2-2-룩업-타입" class="headerlink" title="9.2.2. 룩업 타입"></a>9.2.2. 룩업 타입</h3><p>룩업(lookup) 타입은 타입스크립트 2.1에 추가된 타입입니다. 룩업 타입은 인덱스 접근 타입으로 불리는데, 그 이유는 keyof를 통해 타입T의 하위 타입을 생성해 내기 때문입니다. 여기서 타입 T는 여러 타입으로 이뤄진 유니언이나 인터페이스 타입을 가리킵니다. 예를 들어 타입 T가 유니언 타입인 경우를 보겠습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> testUnion: <span class="string">'name'</span> | <span class="string">'gender'</span> | <span class="string">'age'</span> = <span class="string">'name'</span>;</span><br></pre></td></tr></table></figure>

<p>위에 사용한 <code>&quot;name&quot; | &quot;gender&quot; | &quot;age&quot;</code>는 단순한 나열이지만 때로는 유니언 타입의 구조가 복잡해지는 경우가 있습니다. 이럴 때는 확장성을 고려해 인터페이스를 도입할 수 있습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Profile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  gender: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이제 이 인터페이스를 <code>keyof</code>를 이용해 룩업 타입으로 선언해보겠습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Profile1 = keyof Profile;</span><br></pre></td></tr></table></figure>

<p>Profile1 룩업 타입으로 선언한 변수는 Profile 인터페이스의 속성 이름(“name”, “gender”, “age”) 중 하나를 할당 받을 수 있습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pValue: Profile1 = <span class="string">'name'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="9-2-3-non-nullable-타입"><a href="#9-2-3-non-nullable-타입" class="headerlink" title="9.2.3. non-nullable 타입"></a>9.2.3. non-nullable 타입</h3><p>타입스크립트 2.0에 추가된 특징으로 non-nullable 타입이 있습니다. non-nullable 타입은 컴파일러가 <code>null</code>이나 <code>undefined</code>를 엄격하게 제한합니다.</p>
<h3 id="non-nullable-타입의-등장-배경"><a href="#non-nullable-타입의-등장-배경" class="headerlink" title="non-nullable 타입의 등장 배경"></a>non-nullable 타입의 등장 배경</h3><p>타입스크립트 2.0 전에는 null이나 undefined를 모든 타입의 변수에 할당할 수 있었습니다. 예를 들어, string 타입으로 선언된 변수에 null이나 undefined를 할당할 수 있습니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName: <span class="built_in">string</span>;</span><br><span class="line">myName = <span class="literal">null</span>;</span><br><span class="line">myName = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>

<p>string 타입이 아닌 boolean이나 number 타입으로 선언해도 null이나 undefined를 할당할 수 있습니다. 이처럼 null과 undefined를 할당할 수 있게 해는 것은 타입에 모호성을 줍니다. 그래서 타입스크립트 2.0에서는 이를 명확히 하려고 <code>strictNullCheck</code>라는 옵션이 추가됐습니다.</p>
<h3 id="null-undefined를-허용하지-않는-non-nullable-타입"><a href="#null-undefined를-허용하지-않는-non-nullable-타입" class="headerlink" title="null/undefined를 허용하지 않는 non-nullable 타입"></a>null/undefined를 허용하지 않는 non-nullable 타입</h3><p>null을 허용하지 않는 변수를 만들려면 변수에 null/undefined가 할당되는 것을 막아햐 합니다. 그러려면 tsconfig.json 파일의 strictNullChecks 옵션을 true로 설정하는 방법이 있습니다. 이렇게 하면 특정 타입으로 선언된 변수에 null과 undefined가 할당되지 않아 타입 사용이 명확해집니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="string">"strictNullChecks"</span>: <span class="literal">true</span>,</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>위와 같이 strictNullChecks 옵션을 true로 설정하면 null이나 undefined를 변수에 할당할 수 없게 돼 non-nullable 타입이 변수에 적용됩니다.</p>
<h3 id="non-nullable일때-null이나-undefined를-할당하는-방법"><a href="#non-nullable일때-null이나-undefined를-할당하는-방법" class="headerlink" title="non-nullable일때 null이나 undefined를 할당하는 방법"></a>non-nullable일때 null이나 undefined를 할당하는 방법</h3><p>컴파일러 옵션인 strictNullChecks가 true면 non-nullable 타입이 적용돼 null이나 undefined를 변수에 할당할 수 없고, 할당하게 되면 컴파일 에러가 발생합니다. 만약 strictNullChecks가 true일 때 null이나 undefined를 할당하려면 유니언 타입으로 만들면 됩니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> title: <span class="built_in">string</span> | <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> description: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>

<p>위에 선언된 변수는 유니언 타입을 이용해 strictNullChecks 옵션을 true로 설정해도 null이나 undefined를 허용할 수 있습니다.</p>
<h3 id="9-2-4-네버-타입"><a href="#9-2-4-네버-타입" class="headerlink" title="9.2.4. 네버 타입"></a>9.2.4. 네버 타입</h3><p>타입스크립트 2.0에 내장 타입으로 네버(never) 타입이 추가됐습니다. 네버는 모든 타입의 하위 타입으로 사용할 수 있지만, <code>any</code> 타입을 <code>never</code> 타입에 할당할 수는 없습니다. never 타입은 다음과 같은 두 가지 상황에서 사용됩니다.</p>
<ol>
<li>함수에 닿을 수 없는 코드 영역이 있어 반환값이 존재하지 않을 때</li>
<li>함수에 Throw 객체가 반환돼 오류가 발생할 때</li>
</ol>
<p>첫 번째 상황의 예로 <code>while(true)</code>와 같은 무한 루프를 들 수 있습니다. 두 번째 상황은 <code>Throw</code> 객체가 생성되면 함수가 정상적으로 종료된 것이 아니므로 네버 타입이 됩니다.</p>
<h3 id="닿을-수-없는-코드의-의미"><a href="#닿을-수-없는-코드의-의미" class="headerlink" title="닿을 수 없는 코드의 의미"></a>닿을 수 없는 코드의 의미</h3><p>‘닿을 수 없는 코드(unreachable code)’의 예로 끝나지 않는 <strong>무한 루프</strong>가 있습니다. 함수에 무한 루프가 있으면 무한 루프 이후의 코드는 절대 실행되지 않습니다. 따라서 해당 코드는 모두 닿을 수 없는 코드가 되며 never 타입이 됩니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> neverTouch = <span class="function"><span class="keyword">function</span> (<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Never'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log();	&lt;- 닿을 수 없는 코드</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> resultNever: never = neverTouch();</span><br></pre></td></tr></table></figure>

<h3 id="예외-객체가-반환될-때"><a href="#예외-객체가-반환될-때" class="headerlink" title="예외 객체가 반환될 때"></a>예외 객체가 반환될 때</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> error(<span class="string">'error!!!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fail();</span><br></pre></td></tr></table></figure>

<h3 id="9-2-5-this-타입"><a href="#9-2-5-this-타입" class="headerlink" title="9.2.5. this 타입"></a>9.2.5. this 타입</h3><p><code>this</code> 타입은 인터페이스와 클래스의 하위 타입이면서 이들을 참조할 수도 있는 타입입니다. this 타입을 다형적 this 타입(polymorphic this type)이라고도 하는데, 선언 위치에 따라 참조하는 대상이 달라지기 때문입니다. 클래스 멤버 변수나 생성자에서 this 타입을 사용하면 가장 가까운 클래스의 인스턴스를 참조합니다. 인터페이스 멤버에 this 타입을 사용하면 this 타입은 인터페이스를 참조합니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> ListItem &#123;</span><br><span class="line">  getHead(): <span class="keyword">this</span>;</span><br><span class="line">  getTail(): <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>클래스 메서드에서 재귀 타입을 사용하는 계산기 예제를 봅시다. obj가 계산기 객체이고 객체 내부에 계산에 필요한 여러 메서드가 포함돼 있다고 해봅시다. 이때 “1 * 5 + 10”과 같은 식을 좀 더 편리하게 계산하기 위해 메서드를 체이닝(chaining)하면 코드를 간결하게 입력할 수 있습니다.</p>
<p>이처럼 자기 자신(self)을 반환하는 인스턴스 메서드를 활용해 체이닝 형태로 선언하 면 마치 데이터가 흐르는 듯이 표현할 수 있는데 이러한 패턴을 <strong>플루언트 인터페이스 패턴(fluent interface pattern)</strong>이라 하고 줄여서 플루언트 패턴이라고 합니다.</p>
<p>플루언트 패턴을 구현할 때는 메서드가 인스턴스 자신을 가리키는 this 타입을 반환하게 합니다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> AddCalc &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> value: <span class="built_in">number</span> = 0</span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">public</span> add(operand: <span class="built_in">number</span>): <span class="keyword">this</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.value += operand;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> MyCalc <span class="keyword">extends</span> AddCalc &#123;</span><br><span class="line">  <span class="keyword">public</span> multiply(operand: <span class="built_in">number</span>): <span class="keyword">this</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.value *= operand;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> calc = <span class="keyword">new</span> MyCalc(<span class="number">3</span>).multiply(<span class="number">5</span>).add(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(calc.value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [실행 결과]</span></span><br><span class="line"><span class="comment">// 25</span></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/typescript/" rel="tag"># typescript</a>
              <a href="/tags/type/" rel="tag"># type</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/05/20/typescript-module/" rel="prev" title="타입스크립트 스터디 5주차">
      <i class="fa fa-chevron-left"></i> 타입스크립트 스터디 5주차
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/06/03/typescript-type-assertion/" rel="next" title="타입스크립트 스터디 7주차">
      타입스크립트 스터디 7주차 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#고급-타입"><span class="nav-number">1.</span> <span class="nav-text">고급 타입</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-유니언-타입과-타입-가드"><span class="nav-number">1.1.</span> <span class="nav-text">9.1. 유니언 타입과 타입 가드</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-1-유니언-타입"><span class="nav-number">1.1.1.</span> <span class="nav-text">9.1.1. 유니언 타입</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-2-타입-가드"><span class="nav-number">1.1.2.</span> <span class="nav-text">9.1.2. 타입 가드</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#instanceof를-이용한-타입-검사"><span class="nav-number">1.1.3.</span> <span class="nav-text">instanceof를 이용한 타입 검사</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-알아두면-쓸모-있는-고급-타입들"><span class="nav-number">1.2.</span> <span class="nav-text">9.2. 알아두면 쓸모 있는 고급 타입들</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-1-문자열-리터럴-타입"><span class="nav-number">1.2.1.</span> <span class="nav-text">9.2.1. 문자열 리터럴 타입</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-2-룩업-타입"><span class="nav-number">1.2.2.</span> <span class="nav-text">9.2.2. 룩업 타입</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-3-non-nullable-타입"><span class="nav-number">1.2.3.</span> <span class="nav-text">9.2.3. non-nullable 타입</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#non-nullable-타입의-등장-배경"><span class="nav-number">1.2.4.</span> <span class="nav-text">non-nullable 타입의 등장 배경</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#null-undefined를-허용하지-않는-non-nullable-타입"><span class="nav-number">1.2.5.</span> <span class="nav-text">null&#x2F;undefined를 허용하지 않는 non-nullable 타입</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#non-nullable일때-null이나-undefined를-할당하는-방법"><span class="nav-number">1.2.6.</span> <span class="nav-text">non-nullable일때 null이나 undefined를 할당하는 방법</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-4-네버-타입"><span class="nav-number">1.2.7.</span> <span class="nav-text">9.2.4. 네버 타입</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#닿을-수-없는-코드의-의미"><span class="nav-number">1.2.8.</span> <span class="nav-text">닿을 수 없는 코드의 의미</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#예외-객체가-반환될-때"><span class="nav-number">1.2.9.</span> <span class="nav-text">예외 객체가 반환될 때</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-5-this-타입"><span class="nav-number">1.2.10.</span> <span class="nav-text">9.2.5. this 타입</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Goofy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Goofy</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://https-hyeongyuan-github-io.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://hyeongyuan.github.io/2020/05/20/typescript-advanced-type/";
    this.page.identifier = "2020/05/20/typescript-advanced-type/";
    this.page.title = "타입스크립트 스터디 6주차";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://https-hyeongyuan-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
